<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Api</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Api</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="CartFiller.html">CartFiller</a>.</span>
        
        Api
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Api"><span class="type-signature"></span>new Api<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Represents the API interface used by worker.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="CartFiller.Api.StepEnvironment.html">StepEnvironment</a></dt>
            <dd></dd>
        </dl>
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~me"><span class="type-signature">(private, inner) </span>me<span class="type-signature"> :<a href="CartFiller.Configuration.html">CartFiller.Configuration</a></span></h4>




<div class="description">
    Shortcut to cartFiller configuration
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="CartFiller.Configuration.html">CartFiller.Configuration</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="compare"><span class="type-signature"></span>compare<span class="signature">(ethalon, value)</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    Compare two strings, if they match return '', if they mismatch return fulldump showing exact position where they mismatch
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ethalon</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line341">line 341</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="each"><span class="type-signature"></span>each<span class="signature">(array, fn, otherwise)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Just another for-each implementation, jQuery style
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array to iterate through</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html#.eachCallback">CartFiller.Api.eachCallback</a></span>


            
            </td>

            

            

            <td class="description last">Called for each item, if result === false         then iteration will be interrupted</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>otherwise</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFillerApi.html#.eachOtherwiseCallback">CartFillerApi.eachOtherwiseCallback</a></span>


            
            </td>

            

            

            <td class="description last">Called if iteration wasnot interrupted</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line305">line 305</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    this for chaining
</div>


</li>
    </ul>



        
            

    

    <h4 class="name" id="getName"><span class="type-signature"></span>getName<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Returns name used by loader to organize modules
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getName"><span class="type-signature"></span>getName<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Returns name used by loader to organize modules
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_ui.js.html">src/boot/helpers/ui.js</a>, <a href="src_boot_helpers_ui.js.html#line652">line 652</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="highlight"><span class="type-signature"></span>highlight<span class="signature">(element, allElements)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Highlights element by adding a gray semi-transparent overlay over the target website page, which has a rectangular hole overthis element + some padding aroundAdditionally API remembers this element and passes it backto <a href="CartFiller.Api.html#.workerStepCallback">next step handler</a>as first parameter
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">jQuery</span>
|

<span class="param-type">HtmlElement</span>


            
            </td>

            

            

            <td class="description last">If jQuery object is passed, thenonly first element will be highlighted unless allElements parameteris set to true. If element is false, undefined or empty jQueryobject, then whole page will be covered by gray overlay.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>allElements</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">If set to true, then a rectanglewhich fit all the elements will be drawn</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line254">line 254</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="nop"><span class="type-signature"></span>nop<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Reports, that nothing happend during this step. Means success.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line182">line 182</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="onload"><span class="type-signature"></span>onload<span class="signature">(cb)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Registers the onload handler for the main window. Worker usesthis function before it initiates navigation in target website.After callback is being called, it will not be called again untilworker will register it by calling onload() another time
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html#.onloadCallback">CartFiller.Api.onloadCallback</a></span>


            
            </td>

            

            

            <td class="description last">Callback, if not specified         then just api.result() will be ussued after page loads</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line192">line 192</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerWorker"><span class="type-signature"></span>registerWorker<span class="signature">(cb)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Registers worker object. Worker object can be replaced by new oneto make it possible to update code during debugging.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html#.registerCallback">CartFiller.Api.registerCallback</a></span>


            
            </td>

            

            

            <td class="description last">A callback, that willwill return an object, whoes properties are tasks, and each propertyshould be an array of ['step1 name', function(){...}, 'step2 name' ,function(){...}, ...]. If this array will contain arrays as elementsthen these will be 'flattened'</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="CartFiller.SampleWorker.html#~registerCallback">CartFiller.SampleWorker~registerCallback</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="repeatTask"><span class="type-signature"></span>repeatTask<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Tells that this task should be repeated, so cartFiller willproceed with first step of this task. After using this functionyou still have to call api.result, and it is important to callapi.skipTask first and api.result then.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line169">line 169</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="result"><span class="type-signature"></span>result<span class="signature">(message, recoverable, response)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Used by Worker to report result of a step. If step does not finally (immediately or asynchronously) call result() or nop()the process will stop and then will be considered as failure
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">If undefined or empty stringthen result considered successful, while nonempty string meanserror</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>recoverable</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">undefined</span>
|

<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If message means success, thenthis parameter is only honored if it contains 'nop' string, otherwise it is ignored. 'nop' string means, that completely nothinginteresting happend during this step, so, if steps are executed inslow mode, we can skip delays between steps, because there is noany action. If message means error, then false or undefined means,that error is severe and we should stop, while true means, thatwe can skip all next steps of same task and continue to next taskTo report 'nop' it is easier to use {CartFiller.Api#nop} method.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">If there is anything meaninful,that should be delivered back to ChooseJob frame - then put it here.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="say"><span class="type-signature"></span>say<span class="signature">(message)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Displays comment message over the overlay in the main frame
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line294">line 294</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setTimeout"><span class="type-signature"></span>setTimeout<span class="signature">(fn, timeout)</span><span class="type-signature"> &rarr; {integer}</span></h4>

    



<div class="description">
    Safe setInterval, that registers handler in cartFiller, so, if timeout will happen earlier then this handler will be invokedthis handler will be cleared automatically
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">same as normal JavaScript setInterval</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">same as normal JavaScript setInterval</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line380">line 380</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    same as normal JavaScript setInterval
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setTimeout"><span class="type-signature"></span>setTimeout<span class="signature">(fn, timeout)</span><span class="type-signature"> &rarr; {integer}</span></h4>

    



<div class="description">
    Safe setTimeout, that registers handler in cartFiller, so, if timeout will happen earlier then this handler will be invokedthis handler will be cleared automatically
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">same as normal JavaScript setTimeout</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">same as normal JavaScript setTimeout</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line367">line 367</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    same as normal JavaScript setTimeout
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="skipTask"><span class="type-signature"></span>skipTask<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Tells that this task should be completely skipped, so cartFiller willproceed with next task. After using this function you still have to callapi.result, and it is important to call api.skipTask first and api.result then.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line156">line 156</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="waitFor"><span class="type-signature"></span>waitFor<span class="signature">(checkCallback, resultCallback, timeout, period)</span><span class="type-signature"> &rarr; {<a href="CartFiller.Api.html">CartFiller.Api</a>}</span></h4>

    



<div class="description">
    Waits for particular event, calling checkCallback time to timeto check whether event happened or not, and calling resultCallback once after event or timeout has happened
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>checkCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html#.waitForCheckCallback">CartFiller.Api.waitForCheckCallback</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resultCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html#.waitForResultCallback">CartFiller.Api.waitForResultCallback</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">Measured in milliseconds. Default value(if timeout is undefined) 20000 ms</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>period</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">Poll period, measured in milliseconds, default value (if undefined) is 200 ms</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line213">line 213</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    for chaining
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id=".eachCallback"><span class="type-signature"></span>eachCallback<span class="signature">(index, value)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    Used by <a href="CartFiller.Api.html#each">CartFiller.Api#each</a> when iterating through arrays
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line85">line 85</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    false means stop iteration
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



            
                

    

    <h4 class="name" id=".onloadCallback"><span class="type-signature"></span>onloadCallback<span class="signature">(watchdog)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Called by Api when target site window issues onload eventHas no parameters and result of this callback is ignoredIt is expected, that with this callback Worker checks resultof navigation or form submit, and reports result with <a href="CartFiller.Api.html#result">CartFiller.Api#result</a> function
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>watchdog</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">See <a href="CartFiller.Dispatcher.html#onMainFrameLoaded">CartFiller.Dispatcher#onMainFrameLoaded</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
                

    

    <h4 class="name" id=".registerCallback"><span class="type-signature"></span>registerCallback<span class="signature">(window, document,, api, task, job)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    Called by cartFiller in response to worker registration to fetch worker capabilities -- tasks and steps it performs.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>window</code></td>
            

            <td class="type">
            
                
<span class="param-type">Window</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>document,</code></td>
            

            <td class="type">
            
                
<span class="param-type">Document</span>


            
            </td>

            

            

            <td class="description last">undefined will be passed here, to preventworker from accessing document. Instead worker should accesswindow.document. This is because worker is instantiated in the top framebut operates with main frame where target site is opened, and documentin that main frame changes time to time.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>api</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.html">CartFiller.Api</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>task</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">When called first time - contains empty object.When particular step callbacks, this object will each time bereinitialized with next task as provided by CartFiller.submitJobDetails</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>job</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFillerPlugin-jobDetails.html">CartFillerPlugin~jobDetails</a></span>


            
            </td>

            

            

            <td class="description last">contains full copy of job detailsas passed by chooseJob frame</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="CartFiller.SampleWorker.html#~registerCallback">CartFiller.SampleWorker~registerCallback</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    where even members are names of steps, and odd membersare either step functions or arrays of function + parameters object, e.g.[ 'step 1', function(task,env){ ... }, 'step 2', [function(task,env){.. env.params.theParam ...}, {theParam: 2}],]
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



            
                

    

    <h4 class="name" id=".waitForCheckCallback"><span class="type-signature"></span>waitForCheckCallback<span class="signature">()</span><span class="type-signature"> &rarr; {boolean|undefined}</span></h4>

    



<div class="description">
    Used by <a href="CartFiller.Api.html#waitFor">CartFiller.Api#waitFor</a> to check for particular event.Has no parameters and should return either true if event happendor false (=undefined) if not. If this callback itself calls<a href="CartFiller.Api.html#result">CartFiller.Api#result</a> or <a href="CartFiller.Api.html#nop">CartFiller.Api#nop</a>, then<a href="CartFiller.Api.html#.waitForResultCallback">CartFiller.Api.waitForResultCallback</a> will not be calledand step will be considered as completed. This can happen, if during check procedure an error occures
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if event happened, false or undefinedif not
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    



            
                

    

    <h4 class="name" id=".waitForResultCallback"><span class="type-signature"></span>waitForResultCallback<span class="signature">(result)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Used by <a href="CartFiller.Api.html#waitFor">CartFiller.Api#waitFor</a> after either event or timeouthas happened. This function is expected to launch some moreactions against target website or report result using CartFilter.Api#result function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Result, returned by CartFilter.Api.waitForCheckCallback function or false in case of timeout</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
                

    

    <h4 class="name" id=".workerStepCallback"><span class="type-signature"></span>workerStepCallback<span class="signature">(highlightedElement, env)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Performs particular step of the task. Each callback must finally, immediately or asynchronously call either <a href="CartFiller.Api.html#result">CartFiller.Api#result</a>or <a href="CartFiller.Api.html#nop">CartFiller.Api#nop</a> function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>highlightedElement</code></td>
            

            <td class="type">
            
                
<span class="param-type">jQuery</span>
|

<span class="param-type">HtmlElement</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">Most recently highlighted element is passed back to this callback</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>env</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CartFiller.Api.StepEnvironment.html">CartFiller.Api.StepEnvironment</a></span>


            
            </td>

            

            

            <td class="description last">Environment utility object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external%2520jQuery.external__jQuery.fn_.html">jQuery.fn</a></li><li><a href="external-jQuery.html">jQuery</a></li></ul><h3>Classes</h3><ul><li><a href="CartFiller.Api.html">Api</a></li><li><a href="CartFiller.Api.StepEnvironment.html">StepEnvironment</a></li><li><a href="CartFiller.Configuration.html">Configuration</a></li><li><a href="CartFiller.Dispatcher.html">Dispatcher</a></li><li><a href="CartFiller.Injector.html">Injector</a></li><li><a href="CartFiller.Loader.html">Loader</a></li><li><a href="CartFiller.SampleWorker.html">SampleWorker</a></li><li><a href="CartFiller.SampleWorker.SampleWorkerTasks.html">SampleWorkerTasks</a></li><li><a href="CartFiller.UI.html">UI</a></li><li><a href="CartFiller.UI.ArrowToElement.html">ArrowToElement</a></li><li><a href="CartFillerPlugin-Plugin.html">Plugin</a></li><li><a href="CartFillerPlugin-Settings.html">Settings</a></li></ul><h3>Namespaces</h3><ul><li><a href="CartFiller.html">CartFiller</a></li><li><a href="CartFillerPlugin.html">CartFillerPlugin</a></li></ul><h3>Global</h3><ul><li><a href="global.html#%2522jQuery.cartFillerPlugin.hideChooseJobFrame%2522">"jQuery.cartFillerPlugin.hideChooseJobFrame"</a></li><li><a href="global.html#%2522jQuery.cartFillerPlugin.showChooseJobFrame%2522">"jQuery.cartFillerPlugin.showChooseJobFrame"</a></li><li><a href="global.html#%2522jQuery.cartFillerPlugin%2522">"jQuery.cartFillerPlugin"</a></li><li><a href="global.html#%2522jQuery.fn.cartFillerPlugin%2522">"jQuery.fn.cartFillerPlugin"</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Wed Mar 02 2016 10:38:45 GMT+0300 (MSK)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>