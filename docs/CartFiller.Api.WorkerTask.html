<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: WorkerTask</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: WorkerTask</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="CartFiller.html">CartFiller</a><a href="CartFiller.Api.html">.Api</a>.</span>
        
        WorkerTask
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="WorkerTask"><span class="type-signature"></span>new WorkerTask<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Contains worker code for particular worker task, as array of steps orsubarrays (nested steps). All subarrays are just flattened. Each stepis 2 array items - a string (name or comment) and a function. Optionallyfunction can be replaced with an array of [function(){}, parameters]Each function must be of {CartFiller.Api.WorkerTask.workerStepFunction} typeAs you can see on the example - results of all previous steps are passed as parametersin a reverse order. Usually you need to use only result of previous step, butsometimes you need to find multiple elements on page and then do something with all of them. To return result of a step use api.return(...) function. Two UI methods: api.highlight(...) and api.arrow(...) imply api.return(). Note, that only onereturned result is kept in memory, so, if you do api.return(1).return(2), then 2will be the result.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>{<a href="CartFiller.Api.WorkerTask.html#.workerStepFunction">CartFiller.Api.WorkerTask.workerStepFunction</a>}</li>
        </ul>
    </dd>
    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>[     'step 1', function(){ ... },     'step 2', [function(resultOfStep1){.. api.env.params.theParam ...}, {theParam: 2}],     [            'step 3', function(resultOfStep2, resultOfStep1) { ... },         'step 4', function(resultOfStep3, resultOfStep2, resultOfStep1) { ... }     ] ]</code></pre>



    
    </div>

    

    

    

     

    

    

    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id=".workerStepFunction"><span class="type-signature"></span>workerStepFunction<span class="signature">(result, magic)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Performs particular step of the task. Each callback must finally, immediately or asynchronously call either <a href="CartFiller.Api.html#result">CartFiller.Api#result</a>or <a href="CartFiller.Api.html#nop">CartFiller.Api#nop</a> function. You may skip parameters if you don't need them. Funny thing about these functions is that their parameter names are sometimesmeaningful and result in some magic. For example having any parameter named repeatN where N is integer (e.g. function(repeat10) {... or function(el, repeat15) { ... ) will result in repeating this step N times if it fails, until it succeeds, with interval of 1 second.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">mixed</span>


            
            </td>

            

            

            <td class="description last">of previous step</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>magic</code></td>
            

            <td class="type">
            
                
<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">repeatN Specifies to repeat call N times if it fails, soparameter name should be e.g. repeat5 or repeat 10. sleepN means sleep N mswhich only happens in slow mode.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_boot_helpers_api.js.html">src/boot/helpers/api.js</a>, <a href="src_boot_helpers_api.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>[     'step name', function(el) { ... },     'step name', function(el, repeat10) { ... },     'step name', function(repeat5) { ... },     'step name', function() { ... },     'step name', function(el, repeat10) { ... }]</code></pre>



            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external%2520jQuery.external__jQuery.fn_.html">jQuery.fn</a></li><li><a href="external-jQuery.html">jQuery</a></li></ul><h3>Classes</h3><ul><li><a href="CartFiller.Api.html">Api</a></li><li><a href="CartFiller.Api.StepEnvironment.html">StepEnvironment</a></li><li><a href="CartFiller.Api.WorkerTask.html">WorkerTask</a></li><li><a href="CartFiller.Api.WorkerTasks.html">WorkerTasks</a></li><li><a href="CartFiller.Configuration.html">Configuration</a></li><li><a href="CartFiller.Dispatcher.html">Dispatcher</a></li><li><a href="CartFiller.Injector.html">Injector</a></li><li><a href="CartFiller.Loader.html">Loader</a></li><li><a href="CartFiller.SampleWorker.html">SampleWorker</a></li><li><a href="CartFiller.SampleWorker.SampleWorkerTasks.html">SampleWorkerTasks</a></li><li><a href="CartFiller.UI.html">UI</a></li><li><a href="CartFiller.UI.ArrowToElement.html">ArrowToElement</a></li><li><a href="CartFillerPlugin-JobDetails.html">JobDetails</a></li><li><a href="CartFillerPlugin-Plugin.html">Plugin</a></li><li><a href="CartFillerPlugin-Settings.html">Settings</a></li></ul><h3>Namespaces</h3><ul><li><a href="CartFiller.html">CartFiller</a></li><li><a href="CartFillerPlugin.html">CartFillerPlugin</a></li></ul><h3>Global</h3><ul><li><a href="global.html#%2522jQuery.cartFillerPlugin.hideChooseJobFrame%2522">"jQuery.cartFillerPlugin.hideChooseJobFrame"</a></li><li><a href="global.html#%2522jQuery.cartFillerPlugin.showChooseJobFrame%2522">"jQuery.cartFillerPlugin.showChooseJobFrame"</a></li><li><a href="global.html#%2522jQuery.cartFillerPlugin%2522">"jQuery.cartFillerPlugin"</a></li><li><a href="global.html#%2522jQuery.fn.cartFillerPlugin%2522">"jQuery.fn.cartFillerPlugin"</a></li><li><a href="global.html#env">env</a></li><li><a href="global.html#getBookmarkletCode">getBookmarkletCode</a></li><li><a href="global.html#onMessage_clearCurrentUrl">onMessage_clearCurrentUrl</a></li><li><a href="global.html#onMessage_postMessage">onMessage_postMessage</a></li><li><a href="global.html#onMessage_suspendAjaxRequestsDone">onMessage_suspendAjaxRequestsDone</a></li><li><a href="global.html#reportingMousePointerClick">reportingMousePointerClick</a></li><li><a href="global.html#testApiMap">testApiMap</a></li><li><a href="global.html#workerEventListeners">workerEventListeners</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Sat Aug 06 2016 23:24:29 GMT+0300 (MSK)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>